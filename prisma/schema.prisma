generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Status {
  id        Int      @id @default(autoincrement())
  status    String   @default("active")
  database  String   @default("connected")
  timestamp DateTime @default(now())
  error     String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  redis     String   @default("connected")
}

model GpsData {
  id          Int      @id @default(autoincrement())
  rawData     String
  parsedData  String?
  packetInfo  String?
  mainCommand String?
  timestamp   DateTime @default(now())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  from        String
}

model PositionData {
  id          Int      @id @default(autoincrement())
  mainCommand String?
  packetLength Int?
  pseudoIP    String?
  rawData     String?
  latitude    Float
  longitude   Float
  speed       Float?
  angle       Float?
  gpsStatus   String?
  digitalInputs String?
  ignition    Boolean?
  oilResistance Int?
  voltage     Float?
  mileage     Int?
  temperature Float?
  timestamp   DateTime @default(now())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model AlarmData {
  id          Int      @id @default(autoincrement())
  mainCommand String?
  packetLength Int?
  pseudoIP    String?
  rawData     String?
  alarms      String
  oilChange   Boolean?
  crossBorder Boolean?
  overVoltage Boolean?
  underVoltage Boolean?
  overload    Boolean?
  overtimeDriving Boolean?
  enterBorder Boolean?
  illegalDoorOpen Boolean?
  illegalStart Boolean?
  vibration   Boolean?
  centerEnabledAlarm Boolean?
  powerFailure Boolean?
  parking     Boolean?
  overSpeed   Boolean?
  emergency   Boolean?
  timestamp   DateTime @default(now())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model HeartbeatData {
  id              Int      @id @default(autoincrement())
  mainCommand     String?
  packetLength    Int?
  pseudoIP        String?
  rawData         String?
  calibrationValue Int?
  mainOrderReply  Int?
  slaveOrderReply Int?
  timestamp   DateTime @default(now())
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model TrackerStatus {
  id                Int      @id @default(autoincrement())
  mainCommand       String?
  packetLength      Int?
  pseudoIP          String?
  rawData           String?
  samplingTime      String
  alarmStatus       Int?
  located           Boolean?
  samplingType      String?
  samplingValue     Int?
  sendingType       String?
  carStopSetting    Int?
  overspeedSetting  Int?
  phoneLimit        Boolean?
  areaNodeLimit     Boolean?
  safeSetting       Int?
  longTimeDriving   Int?
  samplingValueAccOff Int?
  emergencyAlarmSwitch Boolean?
  photographRelated Int?
  timestamp   DateTime @default(now())
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

model IButtonData {
  id          Int      @id @default(autoincrement())
  mainCommand String?
  packetLength Int?
  pseudoIP    String?
  rawData     String?
  subCommand  Int?
  message     String?
  driverName  String?
  driverId    String?
  swipeData   String?
  timestamp   DateTime @default(now())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
